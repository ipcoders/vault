---
- name: Update Vault Secrets
  hosts: localhost
  gather_facts: no
  vars_prompt:
    - name: "engine_type"
      prompt: "Please enter the engine type (pki, ssh, or kv)"
      private: no
      default: "kv"

    - name: "engine_name"
      prompt: "Please enter the engine name"
      private: no

    - name: "engine_name"
      prompt: "Please enter the engine name"
      private: no
  vars_prompt:
    engine_type: kv
    engine_name: app-a
    secret_name: secrets-app-1
    secret_kv:
      account_10: pass_11
  
  pre_tasks:
    - name: Vault role
      ansible.builtin.include_role:
        name: vault_role
      vars:
        user_action: "read_secrets"
    - debug:
        msg: "{{ secret_content }}"
    - meta: end_play
    - name: Vault role
      ansible.builtin.include_role:
        name: vault_role
      vars:
        user_action: "update_secrets"

